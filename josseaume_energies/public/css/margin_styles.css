/* josseaume_energies/public/css/margin_styles.css */

/* ========================================= */
/* STYLES POUR LES INDICATEURS DE MARGE */
/* ========================================= */

/* Conteneur principal d'analyse des marges */
.margin-analysis {
	padding: 15px;
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", sans-serif;
}

/* Cartes de marge */
.margin-card {
	padding: 20px;
	border-radius: 8px;
	border-left: 4px solid #ddd;
	background: #f8f9fa;
	margin-bottom: 15px;
	transition: all 0.3s ease;
}

.margin-card h4 {
	margin-top: 0;
	color: #495057;
}

.margin-card p {
	margin-bottom: 8px;
	font-size: 14px;
}

.margin-card.excellent {
	border-left-color: #28a745;
	background: linear-gradient(135deg, #d4edda 0%, #f8f9fa 100%);
}

.margin-card.good {
	border-left-color: #007bff;
	background: linear-gradient(135deg, #d1ecf1 0%, #f8f9fa 100%);
}

.margin-card.acceptable {
	border-left-color: #ffc107;
	background: linear-gradient(135deg, #fff3cd 0%, #f8f9fa 100%);
}

.margin-card.low {
	border-left-color: #fd7e14;
	background: linear-gradient(135deg, #ffe8d1 0%, #f8f9fa 100%);
}

.margin-card.negative {
	border-left-color: #dc3545;
	background: linear-gradient(135deg, #f8d7da 0%, #f8f9fa 100%);
}

/* Pourcentages de marge */
.margin-percentage {
	font-weight: bold;
	font-size: 16px;
	padding: 4px 8px;
	border-radius: 4px;
	background: rgba(255, 255, 255, 0.8);
}

/* Badges de statut */
.status-badge {
	display: inline-block;
	padding: 4px 8px;
	border-radius: 12px;
	font-size: 12px;
	font-weight: 500;
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

.status-badge.excellent {
	background: #28a745;
	color: white;
}

.status-badge.good {
	background: #007bff;
	color: white;
}

.status-badge.acceptable {
	background: #ffc107;
	color: #212529;
}

.status-badge.low {
	background: #fd7e14;
	color: white;
}

.status-badge.negative {
	background: #dc3545;
	color: white;
}

/* Tableau des articles */
.items-margin-table {
	overflow-x: auto;
	margin-top: 15px;
}

.items-margin-table table {
	font-size: 13px;
}

.items-margin-table th {
	background: #f8f9fa;
	border-color: #dee2e6;
	font-weight: 600;
	text-align: center;
	padding: 12px 8px;
}

.items-margin-table td {
	padding: 10px 8px;
	vertical-align: middle;
}

/* Lignes d'articles avec couleurs */
.item-row.excellent {
	background: rgba(40, 167, 69, 0.05);
}

.item-row.good {
	background: rgba(0, 123, 255, 0.05);
}

.item-row.acceptable {
	background: rgba(255, 193, 7, 0.05);
}

.item-row.low {
	background: rgba(253, 126, 20, 0.05);
}

.item-row.negative {
	background: rgba(220, 53, 69, 0.05);
}

.item-row:hover {
	background: rgba(0, 123, 255, 0.1) !important;
}

/* Conseils et recommandations */
.margin-tips {
	padding: 15px;
	background: #f8f9fa;
	border-radius: 6px;
	border: 1px solid #e9ecef;
}

.margin-tips h5 {
	color: #495057;
	margin-bottom: 10px;
}

.margin-tips p {
	margin-bottom: 8px;
	font-size: 14px;
}

/* Actions de marge */
.margin-actions {
	text-align: center;
	padding: 20px;
}

.margin-actions button {
	margin: 5px;
	min-width: 160px;
}

/* Gestionnaire de prix de revient */
.cost-price-manager {
	max-height: 400px;
	overflow-y: auto;
}

.cost-price-manager table {
	font-size: 13px;
}

.cost-price-manager .cost-input {
	width: 100px;
	padding: 4px 8px;
	font-size: 12px;
}

/* Indicateurs dans les lignes d'articles (grille ERPNext) */
.margin-indicator {
	display: inline-block;
	padding: 2px 6px;
	border-radius: 10px;
	font-size: 10px;
	font-weight: bold;
	margin-left: 8px;
	color: white;
	text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.margin-indicator.excellent {
	background: linear-gradient(45deg, #28a745, #34ce57);
}

.margin-indicator.good {
	background: linear-gradient(45deg, #007bff, #0d6efd);
}

.margin-indicator.acceptable {
	background: linear-gradient(45deg, #ffc107, #ffcd39);
	color: #212529;
	text-shadow: none;
}

.margin-indicator.low {
	background: linear-gradient(45deg, #fd7e14, #ff8c42);
}

.margin-indicator.negative {
	background: linear-gradient(45deg, #dc3545, #e55563);
}

/* Animation pour les indicateurs */
.margin-indicator {
	animation: fadeInScale 0.3s ease-out;
}

@keyframes fadeInScale {
	from {
		opacity: 0;
		transform: scale(0.8);
	}
	to {
		opacity: 1;
		transform: scale(1);
	}
}

/* Responsive pour mobile */
@media (max-width: 768px) {
	.margin-analysis .row {
		margin: 0;
	}

	.margin-card {
		margin-bottom: 10px;
		padding: 15px;
	}

	.items-margin-table {
		font-size: 11px;
	}

	.items-margin-table th,
	.items-margin-table td {
		padding: 6px 4px;
	}

	.margin-actions button {
		min-width: auto;
		width: 100%;
		margin: 3px 0;
	}
}

/* Mode sombre */
body.dark .margin-card {
	background: #2d3748;
	border-left-color: #4a5568;
	color: #e2e8f0;
}

body.dark .margin-card h4 {
	color: #f7fafc;
}

body.dark .margin-tips {
	background: #2d3748;
	border-color: #4a5568;
	color: #e2e8f0;
}

body.dark .margin-tips h5 {
	color: #f7fafc;
}

body.dark .items-margin-table th {
	background: #2d3748;
	border-color: #4a5568;
	color: #f7fafc;
}

body.dark .items-margin-table td {
	border-color: #4a5568;
	color: #e2e8f0;
}

body.dark .cost-price-manager {
	background: #2d3748;
}

body.dark .cost-input {
	background: #4a5568;
	border-color: #718096;
	color: #f7fafc;
}

/* √âtats hover en mode sombre */
body.dark .item-row:hover {
	background: rgba(66, 153, 225, 0.1) !important;
}

/* Alertes personnalis√©es */
.margin-alert {
	padding: 12px 16px;
	border-radius: 6px;
	margin: 10px 0;
	border-left: 4px solid;
	font-size: 14px;
}

.margin-alert.success {
	background: #d4edda;
	border-left-color: #28a745;
	color: #155724;
}

.margin-alert.warning {
	background: #fff3cd;
	border-left-color: #ffc107;
	color: #856404;
}

.margin-alert.danger {
	background: #f8d7da;
	border-left-color: #dc3545;
	color: #721c24;
}

.margin-alert.info {
	background: #d1ecf1;
	border-left-color: #007bff;
	color: #0c5460;
}

/* Ic√¥nes d'√©tat */
.margin-status-icon {
	display: inline-block;
	width: 16px;
	height: 16px;
	border-radius: 50%;
	margin-right: 8px;
	vertical-align: middle;
}

.margin-status-icon.excellent {
	background: #28a745;
}

.margin-status-icon.good {
	background: #007bff;
}

.margin-status-icon.acceptable {
	background: #ffc107;
}

.margin-status-icon.low {
	background: #fd7e14;
}

.margin-status-icon.negative {
	background: #dc3545;
}

/* Animations pour les mises √† jour */
.margin-updating {
	opacity: 0.6;
	transition: opacity 0.3s ease;
}

.margin-updated {
	animation: highlightUpdate 1s ease-out;
}

@keyframes highlightUpdate {
	0% {
		background: rgba(40, 167, 69, 0.3);
	}
	100% {
		background: transparent;
	}
}

/* Tooltips personnalis√©s */
.margin-tooltip {
	position: relative;
	cursor: help;
}

.margin-tooltip::after {
	content: attr(data-tooltip);
	position: absolute;
	bottom: 125%;
	left: 50%;
	transform: translateX(-50%);
	background: rgba(0, 0, 0, 0.9);
	color: white;
	padding: 6px 8px;
	border-radius: 4px;
	font-size: 11px;
	white-space: nowrap;
	opacity: 0;
	pointer-events: none;
	transition: opacity 0.3s;
	z-index: 1000;
}

.margin-tooltip:hover::after {
	opacity: 1;
}

/* Barres de progression pour les marges */
.margin-progress {
	width: 100%;
	height: 8px;
	background: #e9ecef;
	border-radius: 4px;
	overflow: hidden;
	margin: 5px 0;
}

.margin-progress-bar {
	height: 100%;
	background: linear-gradient(90deg, #dc3545 0%, #ffc107 25%, #007bff 50%, #28a745 75%);
	transition: width 0.5s ease;
}

/* Styles pour les rapports imprimables */
@media print {
	.margin-analysis {
		background: white !important;
		color: black !important;
	}

	.margin-card {
		border: 1px solid #000 !important;
		background: white !important;
		page-break-inside: avoid;
	}

	.margin-actions {
		display: none;
	}

	.status-badge {
		border: 1px solid #000;
	}
} /* ========================================= */
/* STYLES MODERNES POUR L'ANALYSE DES MARGES */
/* Version Compl√®te - Josseaume Energies */
/* ========================================= */

/* Conteneur principal d'analyse des marges */
.margin-analysis {
	padding: 20px;
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica Neue",
		sans-serif;
	background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
	border-radius: 16px;
	box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
	position: relative;
	overflow: hidden;
	animation: slideInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.margin-analysis::before {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.03)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
	pointer-events: none;
}

/* Cartes de marge modernes */
.margin-card {
	padding: 28px;
	border-radius: 20px;
	border: none;
	background: rgba(255, 255, 255, 0.95);
	backdrop-filter: blur(20px);
	margin-bottom: 20px;
	transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
	position: relative;
	overflow: hidden;
	animation: fadeInUp 0.5s cubic-bezier(0.4, 0, 0.2, 1) both;
}

.margin-card::before {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 4px;
	background: linear-gradient(90deg, #667eea, #764ba2);
	transition: height 0.3s ease;
}

.margin-card:hover {
	transform: translateY(-8px);
	box-shadow: 0 16px 48px rgba(0, 0, 0, 0.15);
}

.margin-card:hover::before {
	height: 6px;
}

.margin-card h4 {
	margin: 0 0 20px 0;
	color: #2d3748;
	font-size: 24px;
	font-weight: 700;
	display: flex;
	align-items: center;
	gap: 12px;
}

.margin-card h4::before {
	content: "üìä";
	font-size: 28px;
	filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.margin-card p {
	margin-bottom: 12px;
	font-size: 16px;
	color: #4a5568;
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 8px 0;
	border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

.margin-card p:last-child {
	border-bottom: none;
}

.margin-card p strong {
	color: #2d3748;
	font-weight: 600;
}

/* Animation des cartes en s√©quence */
.margin-card:nth-child(1) {
	animation-delay: 0.1s;
}
.margin-card:nth-child(2) {
	animation-delay: 0.2s;
}
.margin-card:nth-child(3) {
	animation-delay: 0.3s;
}
.margin-card:nth-child(4) {
	animation-delay: 0.4s;
}

/* √âtats de marge avec d√©grad√©s modernes */
.margin-card.excellent {
	background: linear-gradient(
		135deg,
		rgba(72, 187, 120, 0.95) 0%,
		rgba(255, 255, 255, 0.95) 100%
	);
	box-shadow: 0 8px 32px rgba(72, 187, 120, 0.3);
}

.margin-card.excellent::before {
	background: linear-gradient(90deg, #48bb78, #38a169);
}

.margin-card.excellent h4::before {
	content: "‚ú®";
}

.margin-card.good {
	background: linear-gradient(
		135deg,
		rgba(66, 153, 225, 0.95) 0%,
		rgba(255, 255, 255, 0.95) 100%
	);
	box-shadow: 0 8px 32px rgba(66, 153, 225, 0.3);
}

.margin-card.good::before {
	background: linear-gradient(90deg, #4299e1, #3182ce);
}

.margin-card.good h4::before {
	content: "üëç";
}

.margin-card.acceptable {
	background: linear-gradient(
		135deg,
		rgba(237, 137, 54, 0.95) 0%,
		rgba(255, 255, 255, 0.95) 100%
	);
	box-shadow: 0 8px 32px rgba(237, 137, 54, 0.3);
}

.margin-card.acceptable::before {
	background: linear-gradient(90deg, #ed8936, #dd6b20);
}

.margin-card.acceptable h4::before {
	content: "‚ö†Ô∏è";
}

.margin-card.low {
	background: linear-gradient(
		135deg,
		rgba(245, 101, 101, 0.95) 0%,
		rgba(255, 255, 255, 0.95) 100%
	);
	box-shadow: 0 8px 32px rgba(245, 101, 101, 0.3);
}

.margin-card.low::before {
	background: linear-gradient(90deg, #f56565, #e53e3e);
}

.margin-card.low h4::before {
	content: "‚ö†Ô∏è";
}

.margin-card.negative {
	background: linear-gradient(
		135deg,
		rgba(229, 62, 62, 0.95) 0%,
		rgba(255, 255, 255, 0.95) 100%
	);
	box-shadow: 0 8px 32px rgba(229, 62, 62, 0.3);
}

.margin-card.negative::before {
	background: linear-gradient(90deg, #e53e3e, #c53030);
}

.margin-card.negative h4::before {
	content: "‚ùå";
}

/* Pourcentages de marge modernes */
.margin-percentage {
	font-weight: 800;
	font-size: 24px;
	padding: 12px 20px;
	border-radius: 25px;
	background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.8));
	backdrop-filter: blur(10px);
	border: 2px solid rgba(255, 255, 255, 0.3);
	box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
	display: inline-block;
	position: relative;
	overflow: hidden;
	animation: pulse 2s infinite;
}

@keyframes pulse {
	0%,
	100% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.05);
	}
}

.margin-percentage::before {
	content: "";
	position: absolute;
	top: 0;
	left: -100%;
	width: 100%;
	height: 100%;
	background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
	animation: shimmer 3s infinite;
}

@keyframes shimmer {
	0% {
		left: -100%;
	}
	100% {
		left: 100%;
	}
}

/* Badges de statut modernes */
.status-badge {
	display: inline-flex;
	align-items: center;
	gap: 8px;
	padding: 12px 20px;
	border-radius: 50px;
	font-size: 14px;
	font-weight: 700;
	text-transform: uppercase;
	letter-spacing: 1px;
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	position: relative;
	overflow: hidden;
}

.status-badge::before {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: linear-gradient(45deg, rgba(255, 255, 255, 0.1), transparent);
	border-radius: inherit;
}

.status-badge:hover {
	transform: translateY(-2px);
	box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

.status-badge.excellent {
	background: linear-gradient(135deg, #48bb78, #38a169);
	color: white;
	text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.status-badge.excellent::after {
	content: "‚ú®";
	margin-left: 4px;
}

.status-badge.good {
	background: linear-gradient(135deg, #4299e1, #3182ce);
	color: white;
	text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.status-badge.good::after {
	content: "üëç";
	margin-left: 4px;
}

.status-badge.acceptable {
	background: linear-gradient(135deg, #ed8936, #dd6b20);
	color: white;
	text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.status-badge.acceptable::after {
	content: "‚ö†Ô∏è";
	margin-left: 4px;
}

.status-badge.low {
	background: linear-gradient(135deg, #f56565, #e53e3e);
	color: white;
	text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.status-badge.low::after {
	content: "üìâ";
	margin-left: 4px;
}

.status-badge.negative {
	background: linear-gradient(135deg, #e53e3e, #c53030);
	color: white;
	text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.status-badge.negative::after {
	content: "‚ùå";
	margin-left: 4px;
}

/* Tableau des articles moderne */
.items-margin-table {
	overflow: hidden;
	margin-top: 24px;
	border-radius: 16px;
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
	background: rgba(255, 255, 255, 0.95);
	backdrop-filter: blur(20px);
}

.items-margin-table table {
	font-size: 14px;
	margin: 0;
	border-collapse: collapse;
	width: 100%;
	background: transparent;
}

.items-margin-table th {
	background: linear-gradient(135deg, #667eea, #764ba2);
	color: white;
	border: none;
	font-weight: 700;
	text-align: center;
	padding: 20px 16px;
	font-size: 13px;
	text-transform: uppercase;
	letter-spacing: 1px;
	position: relative;
}

.items-margin-table th::after {
	content: "";
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	height: 2px;
	background: linear-gradient(
		90deg,
		rgba(255, 255, 255, 0),
		rgba(255, 255, 255, 0.5),
		rgba(255, 255, 255, 0)
	);
}

.items-margin-table td {
	padding: 16px;
	vertical-align: middle;
	border-bottom: 1px solid rgba(0, 0, 0, 0.05);
	transition: background-color 0.3s ease;
	position: relative;
}

/* Lignes d'articles avec d√©grad√©s subtils */
.item-row {
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	position: relative;
}

.item-row::before {
	content: "";
	position: absolute;
	left: 0;
	top: 0;
	bottom: 0;
	width: 4px;
	transition: width 0.3s ease;
}

.item-row.excellent::before {
	background: linear-gradient(135deg, #48bb78, #38a169);
}

.item-row.good::before {
	background: linear-gradient(135deg, #4299e1, #3182ce);
}

.item-row.acceptable::before {
	background: linear-gradient(135deg, #ed8936, #dd6b20);
}

.item-row.low::before {
	background: linear-gradient(135deg, #f56565, #e53e3e);
}

.item-row.negative::before {
	background: linear-gradient(135deg, #e53e3e, #c53030);
}

.item-row:hover {
	background: linear-gradient(90deg, rgba(102, 126, 234, 0.05), transparent) !important;
	transform: translateX(8px);
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

.item-row:hover::before {
	width: 8px;
}

/* Styles pour les cellules sp√©ciales */
.item-row td:first-child {
	font-weight: 600;
	color: #2d3748;
}

.item-row td:first-child small {
	color: #718096;
	font-weight: 400;
	display: block;
	margin-top: 4px;
}

/* Conseils et recommandations modernes */
.margin-tips {
	padding: 24px;
	background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.95));
	backdrop-filter: blur(20px);
	border-radius: 16px;
	border: 1px solid rgba(255, 255, 255, 0.2);
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
	position: relative;
	overflow: hidden;
}

.margin-tips::before {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	height: 4px;
	background: linear-gradient(90deg, #667eea, #764ba2);
}

.margin-tips h5 {
	color: #2d3748;
	margin-bottom: 16px;
	font-size: 20px;
	font-weight: 700;
	display: flex;
	align-items: center;
	gap: 12px;
}

.margin-tips h5::before {
	content: "üí°";
	font-size: 24px;
	filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.margin-tips p {
	margin-bottom: 12px;
	font-size: 15px;
	line-height: 1.6;
	color: #4a5568;
	padding: 12px 20px;
	border-radius: 12px;
	transition: all 0.3s ease;
}

.margin-tips p.text-success {
	background: linear-gradient(135deg, rgba(72, 187, 120, 0.1), rgba(72, 187, 120, 0.05));
	border-left: 4px solid #48bb78;
	color: #2f855a;
}

.margin-tips p.text-info {
	background: linear-gradient(135deg, rgba(66, 153, 225, 0.1), rgba(66, 153, 225, 0.05));
	border-left: 4px solid #4299e1;
	color: #2b6cb0;
}

.margin-tips p.text-warning {
	background: linear-gradient(135deg, rgba(237, 137, 54, 0.1), rgba(237, 137, 54, 0.05));
	border-left: 4px solid #ed8936;
	color: #c05621;
}

.margin-tips p.text-danger {
	background: linear-gradient(135deg, rgba(245, 101, 101, 0.1), rgba(245, 101, 101, 0.05));
	border-left: 4px solid #f56565;
	color: #c53030;
}

.margin-tips p:hover {
	transform: translateX(4px);
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

/* Actions de marge modernes */
.margin-actions {
	text-align: center;
	padding: 32px 24px;
	background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.95));
	backdrop-filter: blur(20px);
	border-radius: 16px;
	margin: 24px 0;
}

.margin-actions button {
	margin: 8px 12px;
	min-width: 180px;
	padding: 16px 32px;
	border-radius: 50px;
	border: none;
	font-weight: 700;
	font-size: 14px;
	text-transform: uppercase;
	letter-spacing: 1px;
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	position: relative;
	overflow: hidden;
	background: linear-gradient(135deg, #667eea, #764ba2);
	color: white;
	box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
}

.margin-actions button::before {
	content: "";
	position: absolute;
	top: 0;
	left: -100%;
	width: 100%;
	height: 100%;
	background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
	transition: left 0.5s ease;
}

.margin-actions button:hover {
	transform: translateY(-4px);
	box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
}

.margin-actions button:hover::before {
	left: 100%;
}

.margin-actions button:active {
	transform: translateY(-2px);
}

/* Indicateurs dans les lignes d'articles (grille ERPNext) */
.margin-indicator {
	display: inline-block;
	padding: 6px 12px;
	border-radius: 20px;
	font-size: 12px;
	font-weight: 800;
	margin-left: 12px;
	color: white;
	text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
	position: relative;
	overflow: hidden;
	animation: fadeInScale 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.margin-indicator::before {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: linear-gradient(45deg, rgba(255, 255, 255, 0.1), transparent);
	border-radius: inherit;
}

.margin-indicator.excellent {
	background: linear-gradient(45deg, #48bb78, #38a169);
	animation: excellentPulse 2s infinite;
}

.margin-indicator.good {
	background: linear-gradient(45deg, #4299e1, #3182ce);
}

.margin-indicator.acceptable {
	background: linear-gradient(45deg, #ed8936, #dd6b20);
	color: white;
}

.margin-indicator.low {
	background: linear-gradient(45deg, #f56565, #e53e3e);
	animation: lowWarning 1.5s infinite;
}

.margin-indicator.negative {
	background: linear-gradient(45deg, #e53e3e, #c53030);
	animation: negativeAlert 1s infinite;
}

@keyframes excellentPulse {
	0%,
	100% {
		box-shadow: 0 4px 16px rgba(72, 187, 120, 0.3);
	}
	50% {
		box-shadow: 0 6px 24px rgba(72, 187, 120, 0.5);
	}
}

@keyframes lowWarning {
	0%,
	100% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.05);
	}
}

@keyframes negativeAlert {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0.7;
	}
}

/* Animation pour les indicateurs */
@keyframes fadeInScale {
	from {
		opacity: 0;
		transform: scale(0.8) translateY(10px);
	}
	to {
		opacity: 1;
		transform: scale(1) translateY(0);
	}
}

/* Alertes personnalis√©es modernes */
.margin-alert {
	padding: 20px 24px;
	border-radius: 16px;
	margin: 16px 0;
	border: none;
	font-size: 15px;
	font-weight: 500;
	position: relative;
	overflow: hidden;
	backdrop-filter: blur(20px);
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.margin-alert::before {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	bottom: 0;
	width: 4px;
}

.margin-alert.success {
	background: linear-gradient(135deg, rgba(72, 187, 120, 0.15), rgba(72, 187, 120, 0.05));
	color: #2f855a;
}

.margin-alert.success::before {
	background: linear-gradient(135deg, #48bb78, #38a169);
}

.margin-alert.warning {
	background: linear-gradient(135deg, rgba(237, 137, 54, 0.15), rgba(237, 137, 54, 0.05));
	color: #c05621;
}

.margin-alert.warning::before {
	background: linear-gradient(135deg, #ed8936, #dd6b20);
}

.margin-alert.danger {
	background: linear-gradient(135deg, rgba(245, 101, 101, 0.15), rgba(245, 101, 101, 0.05));
	color: #c53030;
}

.margin-alert.danger::before {
	background: linear-gradient(135deg, #f56565, #e53e3e);
}

.margin-alert.info {
	background: linear-gradient(135deg, rgba(66, 153, 225, 0.15), rgba(66, 153, 225, 0.05));
	color: #2b6cb0;
}

.margin-alert.info::before {
	background: linear-gradient(135deg, #4299e1, #3182ce);
}

/* Ic√¥nes d'√©tat modernes */
.margin-status-icon {
	display: inline-block;
	width: 24px;
	height: 24px;
	border-radius: 50%;
	margin-right: 12px;
	vertical-align: middle;
	position: relative;
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.margin-status-icon::after {
	content: "";
	position: absolute;
	top: 2px;
	left: 2px;
	right: 2px;
	bottom: 2px;
	border-radius: 50%;
	background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.8), transparent);
}

.margin-status-icon.excellent {
	background: linear-gradient(135deg, #48bb78, #38a169);
}

.margin-status-icon.good {
	background: linear-gradient(135deg, #4299e1, #3182ce);
}

.margin-status-icon.acceptable {
	background: linear-gradient(135deg, #ed8936, #dd6b20);
}

.margin-status-icon.low {
	background: linear-gradient(135deg, #f56565, #e53e3e);
}

.margin-status-icon.negative {
	background: linear-gradient(135deg, #e53e3e, #c53030);
}

/* Animations pour les mises √† jour */
.margin-updating {
	opacity: 0.6;
	transition: opacity 0.3s ease;
	position: relative;
}

.margin-updating::after {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.3), transparent);
	animation: loadingShimmer 1.5s infinite;
}

@keyframes loadingShimmer {
	0% {
		transform: translateX(-100%);
	}
	100% {
		transform: translateX(100%);
	}
}

.margin-updated {
	animation: highlightUpdate 1.5s ease-out;
}

@keyframes highlightUpdate {
	0% {
		background: linear-gradient(135deg, rgba(72, 187, 120, 0.4), rgba(72, 187, 120, 0.2));
		transform: scale(1.02);
	}
	100% {
		background: transparent;
		transform: scale(1);
	}
}

/* Tooltips personnalis√©s modernes */
.margin-tooltip {
	position: relative;
	cursor: help;
	display: inline-block;
}

.margin-tooltip::after {
	content: attr(data-tooltip);
	position: absolute;
	bottom: 125%;
	left: 50%;
	transform: translateX(-50%) translateY(8px);
	background: linear-gradient(135deg, rgba(45, 55, 72, 0.95), rgba(26, 32, 44, 0.95));
	backdrop-filter: blur(20px);
	color: white;
	padding: 12px 16px;
	border-radius: 12px;
	font-size: 13px;
	font-weight: 500;
	white-space: nowrap;
	opacity: 0;
	pointer-events: none;
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	z-index: 1000;
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.margin-tooltip::before {
	content: "";
	position: absolute;
	bottom: 115%;
	left: 50%;
	transform: translateX(-50%);
	border: 6px solid transparent;
	border-top-color: rgba(45, 55, 72, 0.95);
	opacity: 0;
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.margin-tooltip:hover::after,
.margin-tooltip:hover::before {
	opacity: 1;
	transform: translateX(-50%) translateY(0);
}

/* Barres de progression pour les marges */
.margin-progress {
	width: 100%;
	height: 12px;
	background: linear-gradient(90deg, #f7fafc, #edf2f7);
	border-radius: 50px;
	overflow: hidden;
	margin: 8px 0;
	box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
	position: relative;
}

.margin-progress::before {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	height: 2px;
	background: linear-gradient(90deg, rgba(255, 255, 255, 0.8), transparent);
	border-radius: inherit;
}

.margin-progress-bar {
	height: 100%;
	background: linear-gradient(
		90deg,
		#e53e3e 0%,
		#f56565 15%,
		#ed8936 30%,
		#4299e1 60%,
		#48bb78 85%,
		#38a169 100%
	);
	transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
	border-radius: inherit;
	position: relative;
	overflow: hidden;
}

.margin-progress-bar::before {
	content: "";
	position: absolute;
	top: 0;
	left: -100%;
	width: 100%;
	height: 100%;
	background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
	animation: progressShimmer 2s infinite;
}

@keyframes progressShimmer {
	0% {
		left: -100%;
	}
	100% {
		left: 100%;
	}
}

/* Gestionnaire de prix de valorisation moderne */
.cost-price-manager,
.valuation-manager {
	max-height: 500px;
	overflow-y: auto;
	background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(248, 250, 252, 0.95));
	backdrop-filter: blur(20px);
	border-radius: 16px;
	padding: 20px;
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.cost-price-manager table,
.valuation-manager table {
	font-size: 14px;
	border-collapse: collapse;
	width: 100%;
}

.cost-price-manager .cost-input,
.valuation-manager .valuation-input {
	width: 120px;
	padding: 8px 12px;
	font-size: 13px;
	border: 2px solid rgba(102, 126, 234, 0.2);
	border-radius: 8px;
	background: rgba(255, 255, 255, 0.9);
	transition: all 0.3s ease;
}

.cost-price-manager .cost-input:focus,
.valuation-manager .valuation-input:focus {
	border-color: #667eea;
	box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
	outline: none;
}

/* Animations d'entr√©e */
@keyframes slideInUp {
	from {
		opacity: 0;
		transform: translateY(30px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes fadeInUp {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Responsive pour mobile */
@media (max-width: 768px) {
	.margin-analysis {
		padding: 16px;
		margin: 10px;
	}

	.margin-analysis .row {
		margin: 0;
		flex-direction: column;
	}

	.margin-card {
		margin-bottom: 16px;
		padding: 20px;
	}

	.margin-card h4 {
		font-size: 20px;
	}

	.items-margin-table {
		font-size: 12px;
		border-radius: 12px;
	}

	.items-margin-table th,
	.items-margin-table td {
		padding: 12px 8px;
	}

	.margin-actions {
		padding: 20px 16px;
	}

	.margin-actions button {
		min-width: auto;
		width: 100%;
		margin: 6px 0;
		padding: 14px 24px;
	}

	.margin-percentage {
		font-size: 20px;
		padding: 10px 16px;
	}

	.status-badge {
		padding: 10px 16px;
		font-size: 12px;
	}
}

/* Mode sombre moderne */
body.dark .margin-analysis {
	background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
}

body.dark .margin-card {
	background: rgba(45, 55, 72, 0.95);
	color: #e2e8f0;
}

body.dark .margin-card h4 {
	color: #f7fafc;
}

body.dark .margin-card p {
	color: #cbd5e0;
	border-bottom-color: rgba(255, 255, 255, 0.1);
}

body.dark .margin-tips {
	background: linear-gradient(135deg, rgba(45, 55, 72, 0.95), rgba(26, 32, 44, 0.95));
	border-color: rgba(255, 255, 255, 0.1);
	color: #e2e8f0;
}

body.dark .margin-tips h5 {
	color: #f7fafc;
}

body.dark .items-margin-table {
	background: rgba(45, 55, 72, 0.95);
}

body.dark .items-margin-table th {
	background: linear-gradient(135deg, #1a202c, #2d3748);
	color: #f7fafc;
}

body.dark .items-margin-table td {
	border-color: rgba(255, 255, 255, 0.1);
	color: #e2e8f0;
}

body.dark .cost-price-manager,
body.dark .valuation-manager {
	background: linear-gradient(135deg, rgba(45, 55, 72, 0.95), rgba(26, 32, 44, 0.95));
}

body.dark .cost-input,
body.dark .valuation-input {
	background: rgba(26, 32, 44, 0.8);
	border-color: rgba(102, 126, 234, 0.3);
	color: #f7fafc;
}

body.dark .cost-input:focus,
body.dark .valuation-input:focus {
	border-color: #667eea;
	box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
}

/* √âtats hover en mode sombre */
body.dark .item-row:hover {
	background: linear-gradient(90deg, rgba(102, 126, 234, 0.1), transparent) !important;
}

body.dark .margin-card:hover {
	background: rgba(45, 55, 72, 1);
}

/* Styles pour les rapports imprimables */
@media print {
	.margin-analysis {
		background: white !important;
		color: black !important;
		box-shadow: none !important;
	}

	.margin-card {
		border: 1px solid #000 !important;
		background: white !important;
		page-break-inside: avoid;
		box-shadow: none !important;
	}

	.margin-actions {
		display: none;
	}

	.status-badge {
		border: 1px solid #000;
		background: white !important;
		color: black !important;
	}

	.items-margin-table {
		box-shadow: none !important;
	}
}
